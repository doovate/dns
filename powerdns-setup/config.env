# ================================
# PowerDNS Automated Stack Config
# ================================
# Edit this file BEFORE running: sudo bash install.sh
# Safe defaults are provided. Leave passwords empty to auto-generate.

# --- Network and DNS ---
# The IPv4 address of this server (used by nginx and UFW hints)
DNS_SERVER_IP=192.168.24.60
# Internal LAN/CIDR allowed to query DNS and access WebUI
INTERNAL_NETWORK=192.168.24.0/22
# WireGuard VPN network/CIDR allowed to query DNS and access WebUI
VPN_NETWORK=10.66.66.0/24
# Internal DNS zone to create initially
DNS_ZONE=doovate.com

# --- Public DNS forwarders ---
DNS_FORWARDER_1=8.8.8.8
DNS_FORWARDER_2=1.1.1.1

# --- Ports (change only if conflicts) ---
# Authoritative PDNS listens here (nginx/recursor do not use this port)
PDNS_AUTH_PORT=5300
# Recursor listens to all client queries here
PDNS_RECURSOR_PORT=53
# PowerDNS-Admin reverse-proxied HTTPS port
WEBUI_PORT=9191

# --- Database (auto-generated if empty) ---
# Supported: postgresql or mysql (default: postgresql)
DB_TYPE=postgresql  # or mysql
DB_NAME=powerdns
DB_USER=pdns
DB_PASSWORD=

# --- PowerDNS-Admin (auto-generated if empty) ---
ADMIN_USERNAME=admin
ADMIN_PASSWORD=
ADMIN_EMAIL=admin@doovate.com

# --- Initial DNS records ---
# Format: <host-without-zone>:<IPv4>
# Examples below will create A records under the DNS_ZONE
DNS_RECORD_1=dv-vpn:192.168.24.20
DNS_RECORD_2=sv-vpn:192.168.24.50
DNS_RECORD_3=dns:192.168.24.60
